version: '2.2'
  
networks:
  heralding_local:

services:

# Heralding service
  heralding:
    build: .
    container_name: heralding
    restart: always
    stop_signal: SIGINT
    environment:
      - PYTHON_EGG_CACHE=/tmp/heralding
    tmpfs:
      - /tmp/heralding:exec
    networks:
     - heralding_local
    ports:
     - "21:21"
     - "22:22"
     - "23:23"
     - "25:25"
     - "80:80"
     - "110:110"
     - "143:143"
       #     - "443:443"
     - "993:993"
     - "995:995"
     - "5432:5432"
     - "5900:5900"
    image: "dtagdevsec/heralding:1804"
    read_only: true
    volumes:
     - /data/heralding/log:/var/log/heralding
